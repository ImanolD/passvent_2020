<!--
  Generated template for the ChatsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="black1">
    <ion-buttons *ngIf="this.user_type == 'nomads'" start style="margin-left: 3%!important;">
     <!-- <div class="circles-noms">
       <div class="div1"></div>
       <div class="div2"></div>
       <div class="div3"></div></div> -->
     <!-- <p class="noms-hint">Noms</p>
     <p class="noms-qty">120</p> -->
    </ion-buttons>
    <ion-buttons *ngIf="this.user_type == 'nomads'" (click)="openFilters()" end>
     <!-- <div class="filters-noms">
       <div class="div1"></div>
       <div class="div2"></div>
       <div class="div3"></div>
     </div> -->
     <!-- <button ion-button icon-only>
       <ion-icon name="ios-options" color="white"></ion-icon>
     </button> -->
    </ion-buttons>
    <p class="title">Chats</p>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <div class="segment-container" *ngIf="this.user_type == 'nomads'">
   <p (click)="changeSegment('instructors')" class="{{getSegment('instructors')}}" style="margin-left: 0!important;">Instructors</p>
   <p (click)="changeSegment('clans')" class="{{getSegment('clans')}}">Clans</p>
  </div>

  <div *ngIf="this.segment == 'instructors'">

   <div *ngFor="let c of this.room_chats">
     <div *ngIf="c.type == 'other'" (click)="openChat(c.index)" class="chat-element">
       <div class="user-img">{{c.partner_name.charAt(0)}}</div>
       <div class="chat-texts">
        <div  class="chat-sender"><b>{{c.partner_name}}</b> from <b>{{c.activity_name}}</b> :</div>
        <div class="chat-hint">{{c.lastMsg}}</div>
       </div>
       <div *ngIf="!getLastIndex(c.lastMsg_index)" class="no-read"></div>
     </div>
   </div>

  </div>

  <div *ngIf="this.segment == 'clans'">

    <div *ngFor="let c of this.room_chats">
      <div *ngIf="c.type != 'other'" (click)="openChat(c.index)" class="chat-element">
        <div class="user-img"></div>
        <div class="chat-texts">
         <div class="chat-sender"><b>{{c.partner_name}}</b> from <b>Clans</b> :</div>
         <div class="chat-hint">{{c.lastMsg}}</div>
        </div>
        <div *ngIf="!getLastIndex(c.lastMsg_index)" class="no-read"></div>
      </div>
    </div>

  </div>

</ion-content>
